.Navbar {
  @extend no-touch;
  position: fixed;
  lost-flex-container: row;
  width: 100%;
  transition: all 0.1s $defaultTransitionTiming;
  z-index: 3;

  .Logo {
    position: absolute 4% 0 0 $scale-sm;
    background-position: 0;
    width: 100%;
    height: 88%;
    z-index: 2;
    transition: all 0.25s $defaultTransitionTiming;
    transform: scale(1.2) translate(0.6rem, 0.5rem);

    @media (--small) {
      left: $scale-md;
      transform: scale(1) translate(0, 0);
    }
    @media (--iPhone6--landscape) {
      transform: scale(0.9) translate(-1.5rem, 0);
    }
  }
  .Logo--light {
    opacity: 1;
  }
  .Logo--dark {
    opacity: 0;
  }
  .MenuButton {
    transition: all 0.25s $defaultTransitionTiming;
    padding: 1rem 1rem 0 0;
    transform: translate(0, 0.5rem);
  }
}

/* Navbar's Opaque style */
.Navbar.is-opaque {
  transition: all 0.25s $defaultTransitionTiming;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1), 0 1px 30px rgba(0, 0, 0, 0.14);
  -webkit-backdrop-filter: blur(8px);

  .Logo {
    transform: scale(1) translate(-.2rem, 0rem);
  }
  .MenuButton{
    transform: translate(0, -0.2rem);
  }
  .Navbar-toggle-menu {
    text-shadow: none;

    .MenuButton-inner, .MenuButton-inner::before, .MenuButton-inner::after {
      background-color: $color-carbon;
    }
    .MenuButton-label {
      color: $color-carbon;
    }
  }
  .Navbar-menu--md {
    height: 5rem;

    a {
      color: $color-carbon;
      text-shadow: none;
    }
  }
  .Logo--light {
    opacity: 0;
  }
  .Logo--dark {
    opacity: 1;
  }
}

/* Nav is opaque && menu is open*/
.Navbar.is-opaque.menu-is-visible {

  .Navbar-toggle-menu {

    .MenuButton-inner, .MenuButton-inner::before, .MenuButton-inner::after{
      background-color: #fff;
    }
    .MenuButton-label {
      color: #fff;
    }
  }
  .Logo--light {
    opacity: .9;
  }
  .Logo--dark {
    opacity: 0;
  }
}

.Navbar-logo-container {
  position: relative;
  lost-column: 2/8 0 0;
}

.Navbar-toggle-menu {
  position: relative;
  lost-column: 6/8 0 0;
  text-align: right;
  color: #fff;
  z-index: 2;
  cursor: pointer;

  @media (--small) {
    display: none;
  }
}

.Navbar-menu {
  @extend no-touch;
  lost-flex-container: column;
  position: absolute 0 0 0 0;
  width: 100vw;
  max-width: 100%;
  height: 100vh;
  padding-top: 10vh;
  transition: all 0.25s $defaultTransitionTiming;
  opacity: 1;
  z-index: 1;
  visibility: visible;

   &:before {
    background: linear-gradient(-170deg, rgba($color-oxygen, 0.9) 0%, rgba($color-nitrogen, 0.8) 70%, transparent 100%);
    content: '';
    position: absolute;
    height: 300%;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    width: 200%;
    transition: all 0.5s $defaultTransitionTiming;
    -webkit-backdrop-filter: blur(7px);
  }
  &.is-hidden {
    visibility: hidden;
    opacity: 0;

    &:before{
      top: -100%;
    }
    .Navbar-menu-item {
      transform: translateY(-0.8rem) scale(0.8);
      transition: all 0.001s ease;
      opacity: 0;
    }
  }

  /* menu not visible on */
  @media (--small) {
    display: none !important;
  }
}

.Navbar-menu-item {
  font-size: responsive 1.6rem 1.8rem;
  lost-row: 1/6 0 0;
  lost-align: center;
  text-decoration: none;
  color: rgba(255, 255, 255, 1);
  transform: translateY(0) scale(1);
  transition: all 0.4s $defaultTransitionTiming;
  opacity: 1;

  &:active {
    opacity: 0.7;
  }
  @for $i from 1 to 8 {
    &:nth-child($(i)) {
     transition-delay: calc(0.05 * $i)s  !important;
    }
  }
}

/* Primary Nav on Medium+ Sized Viewport */
.Navbar-menu--md {
  height: 6.8rem;
  transition: all 0.25s $defaultTransitionTiming;
  /* hide by default */
  display: none;

  /* reveal on medium+ viewports */
  @media (--small) {
    lost-flex-container: row;
    lost-column: 1/1;
  }
}

.Navbar-menu-item--md-container {
  lost-flex-container: row;
  list-style-type: none;
  margin: 0;
  padding: 0;

  @media (--small) {
    lost-column: 6/8;
  }
  @media (--medium) {
    lost-column: 5/8;
    lost-offset: -1/8;
  }
  @media (--large) {
    lost-column: 4/8;
    lost-offset: -2/8;
  }
}

.Navbar-menu-item--md {
  lost-column: 1/5 0 0;
  lost-align: center;
  font-size: $scale-sm;
  font-weight: 400;

  a {
    width: 100%;
    text-align: center;
    text-decoration: none;
    color: rgba(255, 255, 255, 1);
    opacity: 0.6;
    transition: opacity 0.2s $defaultTransitionTiming;

    &:hover {
      opacity: 1;
    }
    &:active {
      opacity: 0.7;
    }
  }
}
